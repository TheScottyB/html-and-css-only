<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>CSS‑Only Slot · 5×3 · Reels with if() conditionals</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    /* Feature flags */
    --hi-fx: 1;            /* 1 = high effects, 0 = minimal effects */
    --play: 1;             /* 1 = spinning, 0 = paused (overridden by checkbox) */

    /* Theme */
    --bg:#0b0f15; --glass-1:#0e131c; --glass-2:#080b11;
    --chrome-a:#fbfcff; --chrome-b:#e7edf6; --chrome-c:#c6cfdb; --chrome-d:#8a99ad; --chrome-e:#3c4657;
    --rim: rgba(255,255,255,.55); --rim-dark: rgba(0,0,0,.6);

    --ruby:#e11239; --ruby-soft:#ff5a78;
    --emerald:#0f8b6e; --emerald-soft:#45d1ab;
    --tile:#0f1420; --tile-edge:#1b2230; --txt:#eaf1f9; --muted:#9fb0c4;

    /* Motion */
    --steps: 24;           /* more steps = finer tick */
    --speed-1: 2.7s; --speed-2: 2.5s; --speed-3: 2.8s; --speed-4: 2.45s; --speed-5: 2.65s;
    --delay-1: .00s; --delay-2: .12s; --delay-3: .24s; --delay-4: .36s; --delay-5: .48s;

    /* Glow uses conditional if(): double when hi-fx=1, else normal.
       Fallback: the last value in the list wins on non-supporting browsers. */
    --ruby-glow:
      0 0 20px rgba(225,18,57, .25),
      0 0 if(var(--hi-fx) = 1, 40px, 24px) rgba(225,18,57, .20);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; display:flex; align-items:center; justify-content:center; padding:20px;
    background:
      radial-gradient(1400px 900px at 15% -10%, #121827 0%, transparent 60%),
      radial-gradient(1400px 900px at 100% 120%, #0b111a 0%, transparent 70%),
      var(--bg);
    color:var(--txt);
    font: 16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }

  .cabinet{
    width:min(980px, 96vw);
    border-radius:18px; padding:20px; position:relative; overflow:hidden;
    background:
      linear-gradient(135deg, var(--chrome-a), var(--chrome-b) 28%, var(--chrome-c) 52%, var(--chrome-d) 74%, var(--chrome-e) 92%, var(--chrome-a) 100%);
    border:1px solid var(--rim);
    box-shadow:
      inset 0 2px 0 rgba(255,255,255,.85),
      inset 0 -2px 0 rgba(0,0,0,.35),
      inset 0 0 0 2px rgba(255,255,255,.14),
      0 22px 60px rgba(0,0,0,.55),
      0 6px 16px rgba(0,0,0,.45);
  }
  .cabinet::after{
    content:""; position:absolute; inset:8px; border-radius:12px; pointer-events:none;
    box-shadow:
      inset 0 0 0 1px var(--rim-dark),
      inset 0 0 0 4px rgba(255,255,255,.05),
      inset 0 10px 26px -10px rgba(255,255,255,.35),
      inset 0 -10px 26px -10px rgba(255,255,255,.35),
      inset 10px 0 26px -10px rgba(255,255,255,.25),
      inset -10px 0 26px -10px rgba(255,255,255,.25);
  }

  .marquee{
    border-radius:12px; border:1px solid rgba(0,0,0,.6);
    padding:14px 16px; text-align:center; position:relative; overflow:hidden;
    background:
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.55)),
      conic-gradient(from 0deg at 50% 100%, var(--ruby) 0 16%, var(--emerald) 16% 32%, var(--ruby) 32% 48%, var(--emerald) 48% 64%, var(--ruby) 64% 80%, var(--emerald) 80% 100%);
  }
  .marquee h1{
    margin:0; font: 800 clamp(18px, 4vw, 28px)/1.1 "Cinzel", "Times New Roman", serif; letter-spacing:.08em;
    text-shadow: 0 2px 0 rgba(0,0,0,.6), var(--ruby-glow);
  }
  .marquee p{margin:6px 0 0; color:#eef3fb; opacity:.9; font-size:14px}

  .window{
    margin-top:14px; border-radius:12px; border:1px solid rgba(0,0,0,.6); overflow:hidden; position:relative;
    background:
      radial-gradient(120% 140% at 50% -20%, rgba(255,255,255,.05), transparent 40%),
      linear-gradient(180deg, var(--glass-1), var(--glass-2));
    padding:16px;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.06),
      inset 0 -1px 0 rgba(0,0,0,.6),
      0 12px 28px rgba(0,0,0,.55);
  }

  .grid{
    display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; height:240px;
  }

  /* Toggle row (CSS-only control) */
  .controls{
    margin-top:12px; display:flex; gap:12px; align-items:center; justify-content:center; color:var(--muted); font-size:14px;
  }
  .switch{
    display:inline-flex; align-items:center; gap:8px; user-select:none; cursor:pointer;
  }
  .switch input{ position:absolute; opacity:0; pointer-events:auto }
  .pill{
    width:44px; height:24px; border-radius:999px; border:1px solid rgba(0,0,0,.4);
    background: linear-gradient(180deg, #e7edf6, #c6cfdb);
    position:relative; box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
  }
  .knob{
    position:absolute; top:2px; left:2px; width:20px; height:20px; border-radius:999px;
    background: linear-gradient(180deg, #fff, #dfe6f1); box-shadow: 0 1px 2px rgba(0,0,0,.35);
    transition: transform .25s ease;
  }
  #play:checked + .pill .knob{ transform: translateX(20px) }

  /* Reel + track */
  .reel{
    position:relative; border-radius:10px; border:1px solid #141b28; overflow:hidden;
    background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.4));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06), inset 0 -1px 0 rgba(0,0,0,.5);
  }
  .track{
    position:absolute; left:0; right:0; top:0;
    display:grid; gap:10px; padding:10px;
    /* Continuous step-based loop: move by 50% of the list height so mid-list wraps */
    animation-name: spin;
    animation-timing-function: steps(var(--steps), end);
    animation-iteration-count: infinite;
    animation-play-state: paused; /* default; play via toggle */
  }

  /* Per-reel speeds and delays */
  .reel:nth-child(1) .track{ animation-duration: var(--speed-1); animation-delay: var(--delay-1) }
  .reel:nth-child(2) .track{ animation-duration: var(--speed-2); animation-delay: var(--delay-2) }
  .reel:nth-child(3) .track{ animation-duration: var(--speed-3); animation-delay: var(--delay-3) }
  .reel:nth-child(4) .track{ animation-duration: var(--speed-4); animation-delay: var(--delay-4) }
  .reel:nth-child(5) .track{ animation-duration: var(--speed-5); animation-delay: var(--delay-5) }

  /* Play state binding: if checkbox is checked, we set --play:1; otherwise 0.
     We can then gate play/pause using if(). Fallback: last declaration keeps paused if unsupported. */
  .machine{ --play: 0 }
  #play:checked ~ .machine{ --play: 1 }

  .machine .track{
    animation-play-state: if(var(--play) = 1, running, paused);
    /* Fallback for browsers without if(): uncomment next line to always run
       animation-play-state: running; */
  }

  @keyframes spin{
    0%{ transform: translateY(0) }
    100%{ transform: translateY(-50%) }
  }

  .symbol{
    height: calc((240px - 20px - 20px)/3);
    min-height: 60px;
    border-radius:8px;
    background: var(--tile); border:1px solid var(--tile-edge);
    display:flex; align-items:center; justify-content:center;
    font-weight:700; letter-spacing:.05em;
    text-shadow: 0 1px 0 rgba(0,0,0,.6);
    position:relative; overflow:hidden;
  }
  .ruby{
    color:#fff;
    background:
      radial-gradient(140% 100% at 50% 0%, rgba(255,255,255,.12), transparent 60%),
      linear-gradient(180deg, #24050b, #3b0913 35%, #5c0e1d 60%, #24050b 100%);
    box-shadow: var(--ruby-glow);
  }
  .ruby::after{
    content:""; position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(140px 80px at 50% 10%, rgba(255,255,255,.35), transparent 60%),
      radial-gradient(220px 120px at 60% 0%, rgba(225,18,57,.45), transparent 65%),
      radial-gradient(220px 120px at 40% 0%, rgba(255,90,120,.35), transparent 70%);
    mix-blend-mode: screen;
  }
  .emerald{
    color:#eafff9;
    background:
      radial-gradient(140% 100% at 50% 0%, rgba(255,255,255,.10), transparent 60%),
      linear-gradient(180deg, #062118, #0a2e24 35%, #104a3b 60%, #062118 100%);
  }
  .emerald::after{
    content:""; position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(160px 90px at 50% 8%, rgba(255,255,255,.3), transparent 60%),
      radial-gradient(240px 140px at 60% 0%, rgba(69,209,171,.30), transparent 65%);
    mix-blend-mode: screen;
  }
  .gold{
    color:#2b1b00;
    background:
      linear-gradient(180deg, #43310b, #6b4d14 40%, #946f1f 60%, #43310b 100%);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
  }
  .bar{
    color:#e8eef7;
    background: linear-gradient(180deg, #0e1724, #122033 50%, #0e1724 100%);
    border:1px solid #1b2a3f;
  }
  .seven{
    color:#fff;
    background: linear-gradient(180deg, #280a0a, #4b1212 45%, #280a0a 100%);
    border:1px solid #3a0e0e;
  }
  .star{
    color:#fff5bf;
    background: linear-gradient(180deg, #171717, #212121 50%, #171717 100%);
    border:1px solid #2a2a2a;
  }

  .payline{
    position:absolute; left:12px; right:12px; top:50%; transform:translateY(-50%);
    height:2px; background: linear-gradient(90deg, var(--ruby) 0, var(--emerald) 50%, var(--ruby) 100%);
    box-shadow: 0 0 8px rgba(225,18,57,.35); opacity:.8; pointer-events:none;
  }

  @media (max-width: 720px){
    .grid{ height: 200px }
    .symbol{ min-height:48px; height: calc((200px - 20px - 20px)/3) }
  }
</style>
</head>
<body>
  <div class="cabinet">
    <div class="marquee">
      <h1>Temple of Chrome · 5×3</h1>
      <p>Pure CSS reels · If() conditionals · No JavaScript</p>
    </div>

    <div class="window">
      <div class="payline" aria-hidden="true"></div>

      <!-- CSS state lives here; #play toggles --play -->
      <div class="machine">
        <div class="grid">
          <!-- Reel 1 -->
          <div class="reel">
            <div class="track">
              <div class="symbol ruby">RUBY</div>
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol gold">BELL</div>
              <div class="symbol bar">BAR</div>
              <div class="symbol seven">7</div>
              <div class="symbol star">★</div>
              <!-- repeat for loop -->
              <div class="symbol ruby">RUBY</div>
              <div class="symbol emerald">EMRLD</div>
            </div>
          </div>
          <!-- Reel 2 -->
          <div class="reel">
            <div class="track">
              <div class="symbol bar">BAR</div>
              <div class="symbol seven">7</div>
              <div class="symbol ruby">RUBY</div>
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol gold">BELL</div>
              <div class="symbol star">★</div>
              <div class="symbol bar">BAR</div>
              <div class="symbol seven">7</div>
            </div>
          </div>
          <!-- Reel 3 -->
          <div class="reel">
            <div class="track">
              <div class="symbol gold">BELL</div>
              <div class="symbol ruby">RUBY</div>
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol star">★</div>
              <div class="symbol seven">7</div>
              <div class="symbol bar">BAR</div>
              <div class="symbol gold">BELL</div>
              <div class="symbol ruby">RUBY</div>
            </div>
          </div>
          <!-- Reel 4 -->
          <div class="reel">
            <div class="track">
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol bar">BAR</div>
              <div class="symbol gold">BELL</div>
              <div class="symbol seven">7</div>
              <div class="symbol ruby">RUBY</div>
              <div class="symbol star">★</div>
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol bar">BAR</div>
            </div>
          </div>
          <!-- Reel 5 -->
          <div class="reel">
            <div class="track">
              <div class="symbol star">★</div>
              <div class="symbol emerald">EMRLD</div>
              <div class="symbol seven">7</div>
              <div class="symbol gold">BELL</div>
              <div class="symbol bar">BAR</div>
              <div class="symbol ruby">RUBY</div>
              <div class="symbol star">★</div>
              <div class="symbol emerald">EMRLD</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CSS-only controls: checkbox toggles play -->
    <div class="controls">
      <label class="switch">
        <input id="play" type="checkbox" checked />
        <span class="pill"><span class="knob"></span></span>
        <span>Spin</span>
      </label>
      <span>• Steps: <code>steps(var(--steps))</code> • Conditional glow via <code>if()</code></span>
    </div>
  </div>
</body>
</html>